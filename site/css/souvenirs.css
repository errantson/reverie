/**
 * Souvenirs Color System
 * 
 * Bespoke styling for specific souvenir types that deserve unique, detailed treatments.
 * Each souvenir type gets its own comprehensive visual identity.
 */

/* ============================================================================
   STRANGE SOUVENIR - Ethereal purple shimmer for recalls, plain for ventured
   ============================================================================ */

.souvenir-strange {
    --strange-purple: #b08fd9;
    --strange-bright: #d4c5f9;
}

/* Special intensity styling for "recalls a strange dream" events */
.row-entry.color-souvenir.souvenir-strange.intensity-special {
    background: linear-gradient(
        135deg,
        rgba(176, 143, 217, 0.12) 0%,
        rgba(212, 197, 249, 0.08) 50%,
        rgba(176, 143, 217, 0.12) 100%
    );
    border-left: 3px solid var(--strange-purple);
    animation: strangeShimmer 12s ease-in-out infinite;
}

@keyframes strangeShimmer {
    0%, 100% {
        filter: hue-rotate(-15deg) saturate(1.0) brightness(1.0);
    }
    25% {
        filter: hue-rotate(15deg) saturate(1.15) brightness(1.01);
    }
    50% {
        filter: hue-rotate(0deg) saturate(1.1) brightness(0.99);
    }
    75% {
        filter: hue-rotate(30deg) saturate(1.2) brightness(1.02);
    }
}

/* Scanline effect for special intensity */
.row-entry.color-souvenir.souvenir-strange.intensity-special::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 8px,
        rgba(176, 143, 217, 0.08) 8px,
        rgba(176, 143, 217, 0.08) 9px
    );
    pointer-events: none;
    animation: scanlines 8s linear infinite reverse;
}

@keyframes scanlines {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(-9px);
    }
}

/* Border glow for special intensity */
.row-entry.color-souvenir.souvenir-strange.intensity-special::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(
        to bottom,
        var(--strange-bright) 0%,
        var(--strange-purple) 50%,
        var(--strange-bright) 100%
    );
    opacity: 0.6;
}

/* Highlight intensity - plain default styling for "ventured" */
.row-entry.color-souvenir.souvenir-strange.intensity-highlight {
    /* Uses default row styling - no special effects */
}

/* ============================================================================
   ARRIVAL SOUVENIR - Banner background, welcoming entry
   Muted banner03.png background with soft overlay
   ============================================================================ */

.souvenir-arrival {
    --arrival-overlay: rgba(250, 248, 245, 0.75);
    --arrival-border: #8b7355;
}

/* Highlight intensity - NOW USES USERCOLOR (see color-rows.css) */
/* Kept for reference - wild mindscape phanera image version:
.row-entry.color-souvenir.souvenir-arrival.intensity-highlight {
    background:
        linear-gradient(to right,
            rgba(245, 240, 235, 0.55) 0%,
            rgba(240, 235, 230, 0.50) 50%,
            rgba(245, 240, 235, 0.55) 100%
        ),
        url('/souvenirs/dream/phanera.png');
    background-size: 100% 100%, cover;
    background-position: center, center;
    background-blend-mode: normal, luminosity;
    border-left: 3px solid var(--arrival-border);
}
*/

/* Special intensity - less muted banner */
.color-souvenir.souvenir-arrival.intensity-special {
    background:
        /* Lighter overlay to show more banner */
        linear-gradient(to right,
            rgba(250, 248, 245, 0.65) 0%,
            rgba(250, 248, 245, 0.75) 100%
        ),
        /* Banner image */
        url('/assets/banners/banner03.png');
    background-size: auto 100%, cover;
    background-position: center, center;
    background-repeat: no-repeat, no-repeat;
    border-left: 3px solid var(--arrival-border);
    border-right: 1px solid rgba(139, 115, 85, 0.3);
    font-weight: 500;
    position: relative;
}

/* ============================================================================
   RESIDENCE SOUVENIR - Lapis/ultramarine animated gradient
   Shifting gradient with floating bubbles
   ============================================================================ */

.souvenir-residence {
    --residence-lapis: #2b5b9e;
    --residence-ultra: #4169b3;
    --residence-bright: #5d8ed6;
    --residence-white: #ffffff;
}

/* Highlight intensity - animated lapis to white gradient */
.row-entry.color-souvenir.souvenir-residence.intensity-highlight {
    background:
        linear-gradient(135deg,
            var(--residence-lapis) 0%,
            var(--residence-ultra) 30%,
            var(--residence-bright) 60%,
            var(--residence-white) 100%
        );
    background-size: 200% 200%;
    position: relative;
    border-left: 3px solid var(--residence-lapis);
    border-right: 1px solid rgba(43, 91, 158, 0.3);
    animation: residenceGradientShift 8s ease-in-out infinite;
    overflow: hidden;
    color: white;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
}

/* Ensure cell content appears above bubbles */
.color-souvenir.souvenir-residence .cell {
    position: relative;
    z-index: 1;
}

/* Gradient shifting animation */
@keyframes residenceGradientShift {
    0% {
        background-position: 0% 50%;
    }
    25% {
        background-position: 50% 100%;
    }
    50% {
        background-position: 100% 50%;
    }
    75% {
        background-position: 50% 0%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* Floating wave highlight instead of bubbles */
.row-entry.color-souvenir.souvenir-residence.intensity-highlight::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 100%;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.15) 25%,
        rgba(255, 255, 255, 0.25) 50%,
        rgba(255, 255, 255, 0.15) 75%,
        transparent 100%
    );
    background-size: 200% 100%;
    pointer-events: none;
    animation: residenceWave 6s ease-in-out infinite;
    z-index: 0;
}

@keyframes residenceWave {
    0%, 100% {
        background-position: -100% 0;
        opacity: 0.3;
    }
    50% {
        background-position: 200% 0;
        opacity: 0.6;
    }
}

/* Special intensity - more dramatic gradient shift */
.color-souvenir.souvenir-residence.intensity-special {
    background:
        linear-gradient(135deg,
            var(--residence-lapis) 0%,
            var(--residence-ultra) 25%,
            var(--residence-bright) 50%,
            var(--residence-white) 100%
        );
    background-size: 250% 250%;
    position: relative;
    border-left: 4px solid var(--residence-lapis);
    border-right: 2px solid rgba(43, 91, 158, 0.4);
    font-weight: 500;
    animation: residenceGradientShiftIntense 6s ease-in-out infinite;
    overflow: hidden;
    color: white;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Intense gradient shifting */
@keyframes residenceGradientShiftIntense {
    0% {
        background-position: 0% 50%;
    }
    20% {
        background-position: 100% 0%;
    }
    40% {
        background-position: 50% 100%;
    }
    60% {
        background-position: 100% 50%;
    }
    80% {
        background-position: 0% 100%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* More bubbles for special intensity */
.row-entry.color-souvenir.souvenir-residence.intensity-special::before {
    content: '○ ○ ○ ○ ○';
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    height: 100%;
    font-size: 9px;
    color: rgba(255, 255, 255, 0.2);
    letter-spacing: 30px;
    line-height: 1;
    pointer-events: none;
    animation: bubbleFloatIntense 5s ease-in-out infinite;
    z-index: 0;
}

@keyframes bubbleFloatIntense {
    0% {
        transform: translateY(-50%) translateX(0) scale(1);
        opacity: 0.4;
    }
    33% {
        transform: translateY(-55%) translateX(8px) scale(1.05);
        opacity: 0.6;
    }
    66% {
        transform: translateY(-45%) translateX(-5px) scale(0.95);
        opacity: 0.5;
    }
    100% {
        transform: translateY(-50%) translateX(0) scale(1);
        opacity: 0.4;
    }
}

/* ============================================================================
   FALLBACKS
   ============================================================================ */

/* None intensity for souvenirs */
.color-souvenir.intensity-none {
    border-left: 2px solid #888;
    color: #555;
}

/* Generic souvenir highlight (if no specific class) */
.color-souvenir.intensity-highlight:not(.souvenir-strange):not(.souvenir-residence):not(.souvenir-arrival) {
    background: linear-gradient(
        to right,
        rgba(120, 100, 140, 0.08) 0%,
        transparent 100%
    );
    border-left: 2px solid #786C8C;
    color: #5a4a7a;
}

/* Generic souvenir special (if no specific class) */
.color-souvenir.intensity-special:not(.souvenir-strange):not(.souvenir-residence):not(.souvenir-arrival) {
    background: linear-gradient(
        to right,
        rgba(120, 100, 140, 0.15) 0%,
        rgba(120, 100, 140, 0.05) 100%
    );
    border-left: 3px solid #786C8C;
    box-shadow: inset 0 0 0 1px rgba(120, 100, 140, 0.12);
    color: #5a4a7a;
    font-weight: 500;
}
