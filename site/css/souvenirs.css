/**
 * Souvenirs Color System
 * 
 * Bespoke styling for specific souvenir types that deserve unique, detailed treatments.
 * Each souvenir type gets its own comprehensive visual identity.
 */

/* ============================================================================
   STRANGE SOUVENIR - Reality-bending, unsettling, icon-face inspired
   Like the strange dream icon: distorted, fractured, otherworldly
   ============================================================================ */

.souvenir-strange {
    --strange-purple: #7B5A9E;
    --strange-dark: #4A2D5F;
    --strange-bright: #B08FD9;
    --strange-glow: rgba(123, 90, 158, 0.35);
}

/* Highlight intensity - smooth psychedelic pattern with hue-shifting pastels */
.row-entry.color-souvenir.souvenir-strange.intensity-highlight {
    background:
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 15px,
            rgba(176, 143, 217, 0.12) 15px,
            rgba(176, 143, 217, 0.12) 30px
        ),
        repeating-linear-gradient(
            -45deg,
            transparent,
            transparent 15px,
            rgba(200, 150, 255, 0.10) 15px,
            rgba(200, 150, 255, 0.10) 30px
        ),
        linear-gradient(
            90deg,
            rgba(255, 200, 240, 0.08) 0%,
            rgba(200, 180, 255, 0.08) 50%,
            rgba(255, 200, 240, 0.08) 100%
        );
    background-size: 300% 300%, 300% 300%, 100% 100%;
    border-left: 3px solid var(--strange-purple);
    box-shadow:
        inset 0 0 25px rgba(176, 143, 217, 0.08),
        0 2px 4px rgba(74, 45, 95, 0.15);
    color: var(--strange-dark);
    position: relative;
    animation: strangeRoll 45s linear infinite, strangeHueShift 36s ease-in-out infinite;
}

/* Smooth rolling pattern animation */
@keyframes strangeRoll {
    0% {
        background-position: 0% 0%, 0% 0%, 0% 0%;
    }
    100% {
        background-position: 100% 100%, -100% -100%, 0% 0%;
    }
}

/* Gentle hue-shifting pastel colors (blue-purple-pink) */
@keyframes strangeHueShift {
    0%, 100% {
        filter: hue-rotate(0deg) saturate(1.1) brightness(1);
    }
    33% {
        filter: hue-rotate(-25deg) saturate(1.15) brightness(1.02);
    }
    66% {
        filter: hue-rotate(25deg) saturate(1.12) brightness(1.01);
    }
}

/* Scanline overlay for mystical effect */
.row-entry.color-souvenir.souvenir-strange.intensity-highlight::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 100%;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 12px,
        rgba(176, 143, 217, 0.05) 12px,
        rgba(176, 143, 217, 0.05) 13px
    );
    pointer-events: none;
    animation: scanlines 18s linear infinite;
}

@keyframes scanlines {
    0% {
        transform: translateY(0);
    }
    100% {
        transform: translateY(13px);
    }
}

/* Left border glow accent */
.row-entry.color-souvenir.souvenir-strange.intensity-highlight::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 3px;
    background: linear-gradient(
        to bottom,
        var(--strange-bright) 0%,
        var(--strange-purple) 50%,
        var(--strange-bright) 100%
    );
    opacity: 0.4;
}

/* Snake charmer word animation - each word sways independently */
.snake-word {
    display: inline-block;
    animation: snakeCharm 6s ease-in-out infinite;
    transform-origin: center center;
    vertical-align: baseline;
    margin: 0 0.15em 0 0;
    white-space: nowrap;
    pointer-events: none; /* Pass clicks through to parent row */
}

.snake-word:first-child {
    margin-left: 0;
}

.snake-word:last-child {
    margin-right: 0;
}

@keyframes snakeCharm {
    0%, 100% {
        transform: translateY(0) rotate(0deg) scale(1);
    }
    25% {
        transform: translateY(-3px) rotate(2deg) scale(1.02);
    }
    50% {
        transform: translateY(0) rotate(0deg) scale(1);
    }
    75% {
        transform: translateY(-3px) rotate(-2deg) scale(1.02);
    }
}

/* Special intensity uses more dramatic animation */
.color-souvenir.souvenir-strange.intensity-special .snake-word {
    animation: snakeCharmIntense 3.5s ease-in-out infinite;
}

@keyframes snakeCharmIntense {
    0%, 100% {
        transform: translateY(0) rotate(0deg) scale(1);
        text-shadow: 0 0 0 transparent;
    }
    20% {
        transform: translateY(-5px) rotate(3deg) scale(1.04);
        text-shadow: 0 2px 4px rgba(123, 90, 158, 0.3);
    }
    50% {
        transform: translateY(0) rotate(0deg) scale(1);
        text-shadow: 0 0 0 transparent;
    }
    70% {
        transform: translateY(-5px) rotate(-3deg) scale(1.04);
        text-shadow: 0 2px 4px rgba(176, 143, 217, 0.3);
    }
}

/* Special intensity - enhanced smooth psychedelic pattern */
.color-souvenir.souvenir-strange.intensity-special {
    background:
        repeating-linear-gradient(
            45deg,
            transparent,
            transparent 12px,
            rgba(176, 143, 217, 0.18) 12px,
            rgba(176, 143, 217, 0.18) 24px
        ),
        repeating-linear-gradient(
            -45deg,
            transparent,
            transparent 12px,
            rgba(200, 150, 255, 0.15) 12px,
            rgba(200, 150, 255, 0.15) 24px
        ),
        linear-gradient(
            90deg,
            rgba(255, 200, 240, 0.12) 0%,
            rgba(200, 180, 255, 0.12) 50%,
            rgba(255, 200, 240, 0.12) 100%
        );
    background-size: 300% 300%, 300% 300%, 100% 100%;
    border-left: 4px solid var(--strange-purple);
    border-right: 1px solid rgba(176, 143, 217, 0.4);
    box-shadow: 
        inset 0 0 35px rgba(176, 143, 217, 0.15),
        0 0 25px rgba(123, 90, 158, 0.25),
        0 3px 10px rgba(74, 45, 95, 0.30);
    color: var(--strange-purple);
    font-weight: 500;
    position: relative;
    animation: strangeRollIntense 24s linear infinite, strangeHueShiftIntense 18s ease-in-out infinite;
}

@keyframes strangeRollIntense {
    0% {
        background-position: 0% 0%, 0% 0%, 0% 0%;
    }
    100% {
        background-position: 100% 100%, -100% -100%, 0% 0%;
    }
}

@keyframes strangeHueShiftIntense {
    0%, 100% {
        filter: hue-rotate(0deg) saturate(1.15) brightness(1);
    }
    25% {
        filter: hue-rotate(-30deg) saturate(1.25) brightness(1.03);
    }
    50% {
        filter: hue-rotate(0deg) saturate(1.1) brightness(0.99);
    }
    75% {
        filter: hue-rotate(30deg) saturate(1.2) brightness(1.02);
    }
}

/* Stronger scanline effect */
.row-entry.color-souvenir.souvenir-strange.intensity-special::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 8px,
        rgba(176, 143, 217, 0.08) 8px,
        rgba(176, 143, 217, 0.08) 9px
    );
    pointer-events: none;
    animation: scanlines 8s linear infinite reverse;
}

/* Border glow for special intensity */
.row-entry.color-souvenir.souvenir-strange.intensity-special::after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 4px;
    background: linear-gradient(
        to bottom,
        var(--strange-bright) 0%,
        var(--strange-purple) 50%,
        var(--strange-bright) 100%
    );
    opacity: 0.3;
    animation: borderPulse 6s ease-in-out infinite;
}

@keyframes borderPulse {
    0%, 100% {
        opacity: 0.3;
    }
    50% {
        opacity: 0.6;
    }
}

/* ============================================================================
   ARRIVAL SOUVENIR - Banner background, welcoming entry
   Muted banner03.png background with soft overlay
   ============================================================================ */

.souvenir-arrival {
    --arrival-overlay: rgba(250, 248, 245, 0.75);
    --arrival-border: #8b7355;
}

/* Highlight intensity - NOW USES USERCOLOR (see color-rows.css) */
/* Kept for reference - wild mindscape phanera image version:
.row-entry.color-souvenir.souvenir-arrival.intensity-highlight {
    background:
        linear-gradient(to right,
            rgba(245, 240, 235, 0.55) 0%,
            rgba(240, 235, 230, 0.50) 50%,
            rgba(245, 240, 235, 0.55) 100%
        ),
        url('/souvenirs/dream/phanera.png');
    background-size: 100% 100%, cover;
    background-position: center, center;
    background-blend-mode: normal, luminosity;
    border-left: 3px solid var(--arrival-border);
}
*/

/* Special intensity - less muted banner */
.color-souvenir.souvenir-arrival.intensity-special {
    background:
        /* Lighter overlay to show more banner */
        linear-gradient(to right,
            rgba(250, 248, 245, 0.65) 0%,
            rgba(250, 248, 245, 0.75) 100%
        ),
        /* Banner image */
        url('/assets/banners/banner03.png');
    background-size: auto 100%, cover;
    background-position: center, center;
    background-repeat: no-repeat, no-repeat;
    border-left: 3px solid var(--arrival-border);
    border-right: 1px solid rgba(139, 115, 85, 0.3);
    font-weight: 500;
    position: relative;
}

/* ============================================================================
   BELL SOUVENIR - Burgundy with animated audio waveform
   Deep burgundy/orange palette with pulsing sound wave visualization
   ============================================================================ */

.souvenir-bell {
    --bell-burgundy: #8B1538;
    --bell-burgundy-dark: #6B0F2A;
    --bell-orange: #C85A28;
    --bell-orange-bright: #E87545;
    --bell-cream: #F5E6D3;
}

/* Highlight intensity - animated audio waveform */
.row-entry.color-souvenir.souvenir-bell.intensity-highlight {
    background:
        /* Base gradient */
        linear-gradient(
            to right,
            var(--bell-burgundy-dark) 0%,
            var(--bell-burgundy) 40%,
            var(--bell-orange) 100%
        );
    border-left: 3px solid var(--bell-burgundy);
    color: #ffffff;
    position: relative;
    overflow: hidden;
}
}

/* Bell: simple static gradient, white text, no animations or overlays */
.row-entry.color-souvenir.souvenir-bell.intensity-highlight {
    background: linear-gradient(
        to right,
        var(--bell-burgundy-dark) 0%,
        var(--bell-burgundy) 40%,
        var(--bell-orange) 100%
    );
    border-left: 3px solid var(--bell-burgundy);
    color: #ffffff;
    position: relative;
}

.row-entry.color-souvenir.souvenir-bell.intensity-highlight .cell,
.color-souvenir.souvenir-bell.intensity-highlight .cell {
    position: relative;
    z-index: 1;
}

.color-souvenir.souvenir-bell.intensity-special {
    background: linear-gradient(
        to right,
        var(--bell-burgundy-dark) 0%,
        var(--bell-burgundy) 30%,
        var(--bell-orange-bright) 100%
    );
    border-left: 4px solid var(--bell-burgundy);
    color: #ffffff;
    font-weight: 600;
    position: relative;
}

.color-souvenir.souvenir-bell.intensity-special .cell,
.row-entry.color-souvenir.souvenir-bell.intensity-special .cell {
    position: relative;
    z-index: 1;
}

/* ============================================================================
   RESIDENCE SOUVENIR - Lapis/ultramarine animated gradient
   Shifting gradient with floating bubbles
   ============================================================================ */

.souvenir-residence {
    --residence-lapis: #2b5b9e;
    --residence-ultra: #4169b3;
    --residence-bright: #5d8ed6;
    --residence-gold: #ebd08b;
}

/* Highlight intensity - animated lapis gradient with gold text */
.row-entry.color-souvenir.souvenir-residence.intensity-highlight {
    background:
        linear-gradient(135deg,
            var(--residence-lapis) 0%,
            var(--residence-ultra) 50%,
            var(--residence-bright) 100%
        );
    background-size: 200% 200%;
    position: relative;
    border-left: 3px solid var(--residence-lapis);
    border-right: 1px solid rgba(43, 91, 158, 0.3);
    animation: residenceGradientShift 8s ease-in-out infinite;
    overflow: hidden;
    color: var(--residence-gold);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

/* Rolling lightness wave in background */
.row-entry.color-souvenir.souvenir-residence.intensity-highlight::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 100%;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(255, 255, 255, 0.15) 50%,
        transparent 100%
    );
    background-size: 50% 100%;
    pointer-events: none;
    animation: residenceRollingLight 4s linear infinite;
    z-index: 0;
}

.row-entry.color-souvenir.souvenir-residence.intensity-highlight .cell {
    position: relative;
    z-index: 1;
}

@keyframes residenceRollingLight {
    0% {
        transform: translateX(-100%);
    }
    100% {
        transform: translateX(200%);
    }
}

/* Ensure cell content appears above effects */
.color-souvenir.souvenir-residence .cell {
    position: relative;
    z-index: 1;
}

/* Gradient shifting animation */
@keyframes residenceGradientShift {
    0% {
        background-position: 0% 50%;
    }
    25% {
        background-position: 50% 100%;
    }
    50% {
        background-position: 100% 50%;
    }
    75% {
        background-position: 50% 0%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* Special intensity - more dramatic gradient shift */
.color-souvenir.souvenir-residence.intensity-special {
    background:
        linear-gradient(135deg,
            var(--residence-lapis) 0%,
            var(--residence-ultra) 50%,
            var(--residence-bright) 100%
        );
    background-size: 250% 250%;
    position: relative;
    border-left: 4px solid var(--residence-lapis);
    border-right: 2px solid rgba(43, 91, 158, 0.4);
    font-weight: 500;
    animation: residenceGradientShiftIntense 6s ease-in-out infinite;
    overflow: hidden;
    color: var(--residence-gold);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);
}

/* Apply gold color uniformly to all cells */
.row-entry.color-souvenir.souvenir-residence .cell,
.row-entry.color-souvenir.souvenir-residence .cell * {
    color: inherit;
}

/* Intense gradient shifting */
@keyframes residenceGradientShiftIntense {
    0% {
        background-position: 0% 50%;
    }
    20% {
        background-position: 100% 0%;
    }
    40% {
        background-position: 50% 100%;
    }
    60% {
        background-position: 100% 50%;
    }
    80% {
        background-position: 0% 100%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* More bubbles for special intensity */
.row-entry.color-souvenir.souvenir-residence.intensity-special::before {
    content: '○ ○ ○ ○ ○';
    position: absolute;
    left: 0;
    top: 50%;
    width: 100%;
    height: 100%;
    font-size: 9px;
    color: rgba(255, 255, 255, 0.2);
    letter-spacing: 30px;
    line-height: 1;
    pointer-events: none;
    animation: bubbleFloatIntense 5s ease-in-out infinite;
    z-index: 0;
}

@keyframes bubbleFloatIntense {
    0% {
        transform: translateY(-50%) translateX(0) scale(1);
        opacity: 0.4;
    }
    33% {
        transform: translateY(-55%) translateX(8px) scale(1.05);
        opacity: 0.6;
    }
    66% {
        transform: translateY(-45%) translateX(-5px) scale(0.95);
        opacity: 0.5;
    }
    100% {
        transform: translateY(-50%) translateX(0) scale(1);
        opacity: 0.4;
    }
}

/* Bell waveform animations removed per request. */
/* No line animations applied to `souvenir-bell` now. */

/* ============================================================================
   FALLBACKS
   ============================================================================ */

/* None intensity for souvenirs */
.color-souvenir.intensity-none {
    border-left: 2px solid #888;
    color: #555;
}

/* Generic souvenir highlight (if no specific class) */
.color-souvenir.intensity-highlight:not(.souvenir-strange):not(.souvenir-residence):not(.souvenir-arrival):not(.souvenir-bell) {
    background: linear-gradient(
        to right,
        rgba(120, 100, 140, 0.08) 0%,
        transparent 100%
    );
    border-left: 2px solid #786C8C;
    color: #5a4a7a;
}

/* Generic souvenir special (if no specific class) */
.color-souvenir.intensity-special:not(.souvenir-strange):not(.souvenir-residence):not(.souvenir-arrival):not(.souvenir-bell) {
    background: linear-gradient(
        to right,
        rgba(120, 100, 140, 0.15) 0%,
        rgba(120, 100, 140, 0.05) 100%
    );
    border-left: 3px solid #786C8C;
    box-shadow: inset 0 0 0 1px rgba(120, 100, 140, 0.12);
    color: #5a4a7a;
    font-weight: 500;
}
